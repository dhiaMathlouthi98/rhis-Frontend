<div class="header row">
  <div class="float-right col-12 pr-0">
    <button (click)="addProductivite()" *ngIf="updateControl()" class="btn save-add-button-rhis orange-background"
            type="button">
      <span>{{'BUTTON.SAVE'|translate | uppercase}}</span>
    </button>
  </div>
</div>
<div class="container-fluid change-container-fluid-rhis">
  <div class="table-list bg-gris-avec-border">
    <p-table [value]="listProductiviteOrdonner" [responsive]="true" [scrollable]="true" scrollHeight="400px">
      <ng-template pTemplate="header" stickyHeader stickyClass="stickyHeader">
        <tr class="header-row">
          <ng-container>
            <th>{{'PHASE.LIBELLE' | translate}}</th>
          </ng-container>
          <ng-container *ngFor="let column of collumns">
            <th class="text-center">{{column.column}}</th>
          </ng-container>
        </tr>
      </ng-template>
      <ng-template let-i="rowIndex" pTemplate="body" let-productivite>
        <tr class="table-row">
          <td>
            <div class="td-container td-left-border">
              {{productivite?.phase.libelle}}
            </div>
          </td>

          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[0].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[0].val)] }} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[1].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[1].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[2].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[2].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[3].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[3].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[4].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[4].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[5].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[5].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
          <td pEditableColumn>
            <div class="td-container td-right-border">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input type="text"
                         rhisTwoDigitDecimaNumber pInputText
                         [(ngModel)]="productivite['valeur'+(collumns[6].val)]">
                </ng-template>
                <ng-template pTemplate="output">
                  {{productivite['valeur' + (collumns[6].val)]}} %
                </ng-template>
              </p-cellEditor>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div class="row mt-2">
    <div class="float-right col-12 pr-3 button-style-special mt-1">
      <button (click)="addProductivite()" *ngIf="updateControl()" class="btn save-add-button-rhis orange-background"
              type="button">
        <span>{{'BUTTON.SAVE'|translate | uppercase}}</span>
      </button>
    </div>
  </div>
</div>
